
<!DOCTYPE html>
<html lang="eng">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">

	<link rel="stylesheet" type="text/css" href="../css/global.css" th:href="@{/css/global.css}"/>
	<link rel="stylesheet" type="text/css" href="../css/home.css" th:href="@{/css/home.css}" />
	<link rel="stylesheet" type="text/css" href="../css/loading.css" th:href="@{/css/loading.css}" />
	<link rel="stylesheet" type="text/css" href="../css/navbar.css" th:href="@{/css/navbar.css}" />
	<link rel="stylesheet" type="text/css" href="../css/global.css" th:href="@{/css/global2.css}"/>
	<link rel="stylesheet" type="text/css" href="../css/home.css" th:href="@{/css/home2.css}" />
	<link rel="stylesheet" type="text/css" href="../css/loading.css" th:href="@{/css/loading.css}" />
    <script src="js/utils.js" th:href="@{/js/utils}" charset="utf-8" defer></script>
    <script src="js/bank.js" th:href="@{/js/bank}" charset="utf-8" defer></script>
	<title>Home</title>
</head>
<body>



<header id="nav-wrapper">
	<nav id="nav">
		<div class="nav left">
            <span class="gradient skew"><h1 class="logo un-skew">
                <div class="home-title">Nice to see you , <span th:text="${session.currentUser.name}">user</span></div>
                </h1></span>
			<button id="menu" class="btn-nav"><span class="fas fa-bars"></span></button>
		</div>
		<div class="nav right">
			<a class="nav-link active" th:href="@{/goToHomePage}"> <span class="nav-link-span"><span class="u-nav">Home</span></span> </a>
			<a class="nav-link" th:href="@{/Logout}"> <span class="nav-link-span"><span class="u-nav">Logout</span></span> </a>
			<!--            <a href="#about" class="nav-link"><span class="nav-link-span"><span class="u-nav">About</span></span></a>-->
			<!--            <a href="#work" class="nav-link"><span class="nav-link-span"><span class="u-nav">Work</span></span></a>-->
			<!--            <a href="#contact" class="nav-link"><span class="nav-link-span"><span class="u-nav">Contact</span></span></a>-->
		</div>
	</nav>
</header>


<br>
<br>
<div class="home-div">
	<div class="create-div purple-div">
		<div class="create-title">Here you can create a new account</div>
		<form class="home-form" method="POST" th:action="@{/CreateAccount}">
			<div class="form-group">
				<label for="accountName">Account Name</label>
				<input type="text" placeholder="Enter the account name" name="accountName" required>
			</div>
			<button class="btn btn-large btn-purple" type="submit">Create account</button>
		</form>
		<div class="warning-message" th:if="${warning}">
			<span th:text="${warning}">Warning message</span>
		</div>
	</div>

	<div class="account-div purple-div">
		<div class="account-title">Here there are your accounts</div>
		<div th:switch="${listClientsAccount.size}">
			<div th:case="0">
				<div class="no-accounts">You currently have no accounts in our bank :(</div>
			</div>
			<div th:case="*" th:remove="all-but-first">
				<div class="card card-blue" th:each="account : ${listClientsAccount}" th:classappend="${accountStat.even} ? 'even'">
					<div class="card-title" th:text="${account.name}">Conto Casa</div>
					<div class="card-data">
						<div><b>Code: </b><span th:text="${account.id}">12333</span></div>
						<div><b>Balance: </b><span th:text="${account.balance}">55.00</span>&euro;</div>
					</div>
					<a class="btn btn-purple btn-small btn-primary" th:href="@{/GetAccountSummary(accountId=${account.id})}">Open</a>
				</div>
				<div class="card card-blue even">
					<div class="card-title">Conto Vacanza</div>
					<div class="card-data">
						<div><b>Code: </b><span>22442</span></div>
						<div><b>Balance: </b><span>100254.00</span>&euro;</div>
					</div>
					<a class="btn btn-purple btn-small btn-primary">Open</a>
				</div>
				<div class="card card-blue">
					<div class="card-title">Conto Macchina</div>
					<div class="card-data">
						<div><b>Code: </b><span>4434</span></div>
						<div><b>Balance: </b><span>40000.00</span>&euro;</div>
					</div>
					<a class="btn btn-purple btn-small btn-primary">Open</a>
				</div>
			</div>
		</div>
	</div>


</div>


	<div class="container">
<!--		<div class="accounts-div">-->
<!--			<div id="create-account-form" class="create-div purple-div">-->
<!--				<div class="create-title">Here you can create a new account</div>-->
<!--				<form class="create-account-form" action="#">-->
<!--					<div class="form-group">-->
<!--						<label for="accountName">Account Name</label>-->
<!--						<input type="text" placeholder="Enter the account name" name="accountName" required>-->
<!--					</div>-->
<!--					<input id="account-form-button" class="btn btn-large btn-purple" type="button" value="Create account"/>-->
<!--				</form>-->
<!--				<div id="create-account-warning" class="warning-message">Warning message!</div>-->
<!--			</div>-->

<!--			<div class="account-list-div purple-div">-->
<!--                <a id="create-account-button" class="btn btn-purple btn-small btn-primary">Create account</a>-->
<!--                <div class="account-title">Accounts</div>-->
<!--                <hr>-->
<!--                <div id="accounts-message">You have no accounts in our bank :(</div>-->
<!--				<div id="accounts">-->
<!--					<div class="card card-blue">-->
<!--						<div class="card-title">Conto Vacanza</div>-->
<!--						<div class="card-data">-->
<!--							<b>ID: </b>22442<br>-->
<!--							<b>Balance: </b>100254.00&euro;-->
<!--						</div>-->
<!--						<a class="btn btn-purple btn-small btn-primary">Open</a>-->
<!--					</div>-->
<!--					<div class="card card-blue even">-->
<!--						<div class="card-title">Conto Macchina</div>-->
<!--						<div class="card-data">-->
<!--							<b>ID: </b>4434<br>-->
<!--							<b>Balance: </b>40000.00&euro;-->
<!--						</div>-->
<!--						<a class="btn btn-purple btn-small btn-primary">Open</a>-->
<!--					</div>-->
<!--				</div>-->
<!--			</div>-->
<!--        </div>-->



		<div id="account-details" class="status-div">
			<div id="create-transfer-form" class="create-div purple-div">
				<div class="create-title">Here you can create a new transfer</div>
				<form class="status-form" action="#">
					<div class="form-group">
						<label for="destUserId">Dest. User</label>
						<input type="number" placeholder="Enter the code of the receiving user" name="destUserId" list="dest-ids-datalist" min=0 required><br>
						<datalist id="dest-ids-datalist">
						</datalist>
					</div>
					<div class="form-group">
						<label for="destAccountId">Dest. Account</label>
						<input type="number" placeholder="Enter the code of the destination account" name="destAccountId" list="dest-accounts-datalist" min=0 required><br>
						<datalist id="dest-accounts-datalist">
						</datalist>
					</div>
					<div class="form-group">
						<label for="reason">Reason</label>
						<input type="text" placeholder="Enter the reason" name="reason" required><br>
					</div>
					<div class="form-group">
						<label for="amount">Amount</label>
						<input type="number" step=0.01 placeholder="How much do you want to transfer" name="amount" min=0.01 required>
					</div>
					<input type="hidden" name="sourceAccountId">
					<input id="transfer-form-button" class="btn btn-large btn-purple" type="button" value="Make transfer" />
				</form>
				<div id="create-transfer-warning" class="warning-message">Warning message!</div>
			</div>

			<div class="transfers-div purple-div">
				<a id="create-transfer-button" class="btn btn-purple btn-small btn-primary">Create transfer</a>
				<div class="transfers-title">Transfers of account: <b><span id="account-name">00000</span></b></div>
				<hr>
				<div class="account-code">Account Code: <b><span id="account-code">00000</span></b></div>
				<div class="account-balance">Account Balance: <b><span id="account-balance">100</span>&euro;</b></div>
				<div id="transfers-message">You have no transfers for this account :(</div>
				<div id="transfers">
					<div class="linked-card linked-card-blue">
						<div class="linked-card-title">Account: 54455</div>
						<div class="linked-card-data">
							<div><b>Timestamp: </b><span>28/04/2020 18:45</span></div>
							<div><b>Reason: </b><span>Prestito</span></div>
							<div class="transfers-amount positive">+100.00&euro;</div>
						</div>
					</div>
					<div class="linked-card linked-card-blue">
						<div class="linked-card-title">Account: 212222</div>
						<div class="linked-card-data">
							<div><b>Timestamp: </b><span>28/12/2020 22:45</span></div>
							<div><b>Reason: </b><span>Pagamento gas</span></div>
							<div class="transfers-amount negative">-156.00&euro;</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>


	<div id="result-div" class="result-div">
		<div id="confirmed-div" class="transfer-confirmed-div">
			<img class="transfer-confirmed-image" src="resources/transfer_okay.png"/>
			<div class="transfer-confirmed-title">Your transfer has been confirmed</div>
			<div class="transfer-div">
				<div class="tranfer-source">
					<div class="title">Source Account</div>
					<div class="content">
                        Owner Code: <b><span id="src-owner-code">3</span></b><br>
                        Account Code: <b><span id="src-account-code">3</span></b><br>
						Name: <b><span id="src-account-name">conto esempio 1</span></b><br>
						New Balance: <b><span id="src-account-balance">34.56</span>&euro;</b>
					</div>
				</div>
				<div class="transfer">
					<img class="transfer-image" src="resources/transfer.png"/>
					<div class="title">Transfer</div>
					<div class="content">
						Amount: <b><span id="transfer-amount">34.56</span>&euro;</b><br>
						Reason: <b><span id="transfer-reason">salary</span></b>
					</div>
				</div>
				<div class="tranfer-destination">
					<div class="title">Destination Account</div>
					<div class="content">
                        Owner Code: <b><span id="dest-owner-code">4</span></b><br>
                        Account Code: <b><span id="dest-account-code">4</span></b><br>
						Name: <b><span id="dest-account-name">conto esempio 2</span></b><br>
						New Balance: <b><span id="dest-account-balance">40.56</span>&euro;</b>
					</div>
					<button id="add-contact" class="add-contact-button btn btn-purple btn-small btn-primary">Add to Address Book</button>
                    <img id="add-contact-status-loading" class="add-contact-status-loading" src="resources/loading.gif" />
                    <img id="add-contact-status-ok" class="add-contact-status-ok" src="resources/ok-icon.png" />
                    <img id="add-contact-status-ko" class="add-contact-status-ko" src="resources/ko-icon.png" />
                    <div id="add-contact-warning" class="warning-message">Warning message!</div>
                </div>
			</div>
			<hr>
			<a id="close-success" class="result-close">Close</a>
		</div>
		<div id="failed-div" class="transfer-failed-div">
			<img class="transfer-failed-image" src="resources/excuse-me-wtf.png"/>
			<div class="transfer-failed-title">Your transfer has failed</div>
			<div class="transfer-failed-reason">
				The reason is: <b><span id="failed-reason">sample reason</span></b>
			</div>
			<hr>
			<a id="close-failed" class="result-close">Close</a>
		</div>
	</div>


	<div class="loading-div">
		<img class="loading-img" src="resources/gear.gif" />
		<div id="loading_msg" class="loading-message">Communicating with Server ...</div>
	</div>
</body>
</html>